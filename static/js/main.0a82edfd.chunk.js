(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var r=n(4),i=n(9),a=n(7),s=n(8),c=n(1),l=n(3),u=n(2),o=n.n(u),h=n(6),d=n.n(h),k=(n(15),n(0)),j=n(17),v=function(){function e(t,n){Object(c.a)(this,e),this.type=t,this.value=n,this.left=null,this.right=null}return Object(l.a)(e,null,[{key:"calculatePrecedence",value:function(e){return"+"===e||"-"===e?0:"%"===e||"/"===e||"x"===e?1:-1}}]),e}(),b=function e(t,n,r,i){Object(c.a)(this,e),this.id=t,this.regex=n,this.transitions=r,this.recoveries=i},f=function(){function e(t,n,r){Object(c.a)(this,e),this.history=[],this.states=t,this.start=n,this.accept=r,this.current=n}return Object(l.a)(e,[{key:"reset",value:function(){this.current=this.start,this.history=[]}},{key:"backwardTransition",value:function(){return 0===this.history.length?-1:(this.current=this.history.pop(),1)}},{key:"forwardTransition",value:function(e){var t,n=Object(s.a)(this.states[this.current].transitions);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=this.states[r].regex;if(r<this.states.length&&i.test(e))return this.history.push(this.current),this.current=r,1}}catch(a){n.e(a)}finally{n.f()}return-1}},{key:"recover",value:function(e){var t=0,n=this.states[this.current].recoveries;if(0===n.length)return-1;for(;-1!==this.backwardTransition();)if(t++,n.includes(this.current)){if(-1!==this.forwardTransition(e))return t;break}return-1}},{key:"isAccepting",value:function(){return this.accept.includes(this.current)}}]),e}(),p=function(){function e(){Object(c.a)(this,e);var t=[new b(0,null,[1,2,3,4,5],[]),new b(1,/[(]/,[1,2,3,4,5],[]),new b(2,/[-]/,[3,4,5],[]),new b(3,/[0]/,[4,8,10],[0,8,9]),new b(4,/[.]/,[6],[3,6,7]),new b(5,/[1-9]/,[1,4,7,8,9,10],[]),new b(6,/[0-9]/,[1,6,8,9,10],[]),new b(7,/[0-9]/,[1,4,7,8,9,10],[]),new b(8,/[%/x+]/,[1,3,4,5],[]),new b(9,/[-]/,[1,3,4,5],[]),new b(10,/[)]/,[1,3,4,5,8,9,10],[])];this.machine=new f(t,0,[3,5,6,7,10]),this.brackets=0,this.input=""}return Object(l.a)(e,[{key:"reset",value:function(){this.machine.reset(),this.brackets=0,this.input=""}},{key:"process",value:function(e){this.reset();for(var t=[],n=0;n<e.length;n++){var r=0;if(-1===this.machine.forwardTransition(e[n])&&-1===(r=this.machine.recover(e[n])))break;for(var i=0;i<r;i++){var a=t.pop();"("===a&&this.brackets--,")"===a&&this.brackets++}if("("===e[n]&&this.brackets++,")"===e[n]&&this.brackets--,this.brackets<0)break;t.push(e[n])}return this.input=t.join(""),this.input}},{key:"isComplete",value:function(){return this.machine.isAccepting()&&0===this.brackets}},{key:"generateArithmeticTree",value:function(){if(!this.isComplete())return null;for(var e=this.input,t=this.machine.history.slice(1),n=[this.machine.current],r=t.concat(n),i=[8,9],a=[2,3,4,5,6,7],s=[{root:null,operators:[],numbers:[]}],c=0;c<=e.length&&c<=r.length;)if(a.includes(r[c])){var l=[];do{l.push(e[c]),c++}while(c<=e.length&&c<=r.length&&a.includes(r[c]));var u=l.join("");s[s.length-1].numbers.push(new v("number",u))}else{if(1===r[c]){if(c-1>=0&&(a.includes(r[c-1])||10===r[c-1])){var o=s[s.length-1];o.operators.push(new v("operator","x")),this.attachToTree(o)}s.push({root:null,operators:[],numbers:[]})}else if(i.includes(r[c])){var h=e[c],d=s[s.length-1];d.operators.push(new v("operator",h)),this.attachToTree(d)}else if(10===r[c]){var k=s.pop(),j=s[s.length-1];if(k.operators.length>0)k.operators[k.operators.length-1].right=k.numbers[k.numbers.length-1];if(null===k.root&&1===k.numbers.length){var b=k.numbers[k.numbers.length-1];j.numbers.push(b)}else{var f=k.root;j.numbers.push(f)}if(c+1<=e.length&&c+1<=r.length&&a.includes(r[c+1])){var p=s[s.length-1];p.operators.push(new v("operator","x")),this.attachToTree(p)}}c++}var g=s[s.length-1];g.operators.length>0&&(g.operators[g.operators.length-1].right=g.numbers[g.numbers.length-1]);if(null===g.root&&1===g.numbers.length){var m=g.numbers.pop();g.root=m}return console.log(g),g.root}},{key:"attachToTree",value:function(e){if(e.operators.length>=2){var t=e.operators[e.operators.length-1],n=e.operators[e.operators.length-2];v.calculatePrecedence(t.value)>v.calculatePrecedence(n.value)?(t.left=e.numbers[e.numbers.length-1],n.right=t):(t.left=e.root,n.right=e.numbers[e.numbers.length-1],e.root=t)}else{var r=e.operators[e.operators.length-1];r.left=e.numbers[e.numbers.length-1],e.root=r}}}]),e}(),g=function(e){Object(i.a)(n,e);var t=Object(a.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={history:[],input:"",placeholder:"0"},i.historyRef=o.a.createRef(),i.addHistory=i.addHistory.bind(Object(r.a)(i)),i}return Object(l.a)(n,[{key:"clearAll",value:function(){this.setState({history:[],input:"",placeholder:"0"})}},{key:"clear",value:function(){this.setState({input:""})}},{key:"addHistory",value:function(e,t){var n=this.state,r=n.input,i=n.history;if("input"!==t&&"answer"!==t)return!1;if(0<=e&&e<i.length){var a=new RegExp(/[%/x+-]/);(0===r.length||a.test(r[r.length-1]))&&this.add(i[e][t])}}},{key:"add",value:function(e){var t=this.state.input.concat(e);this.handleInput(t)}},{key:"remove",value:function(){var e=this.state.input.slice(0,-1);this.handleInput(e)}},{key:"calculate",value:function(e){if(null==e)return 0;if("number"===e.type)return parseFloat(e.value);if("operator"===e.type){var t,n=0;if(null!=e.left&&(t=this.calculate(e.left)),null!=e.right&&(n=this.calculate(e.right)),"%"===e.value)return t%n;if("/"===e.value)return t/n;if("x"===e.value)return t*n;if("+"===e.value)return t+n;if("-"===e.value)return t-n}return 0}},{key:"handleInput",value:function(e){var t=this.props.inputHandler.process(e);this.setState({input:t})}},{key:"render",value:function(){var e=this,t=this.state,n=t.history,r=t.input,i=t.placeholder,a=" ";if(n.length>0){var s=n[n.length-1].input,c=n[n.length-1].answer;a=Object(k.jsxs)("span",{children:[Object(k.jsx)("span",{className:"uk-link",onClick:function(){e.addHistory(n.length-1,"input")},children:s}),"=",Object(k.jsx)("span",{className:"uk-link",onClick:function(){e.addHistory(n.length-1,"answer")},children:c})]})}var l=j({"uk-link":!0,"uk-hidden":!(n.length>1)});return Object(k.jsx)("div",{className:"uk-container uk-padding-large",children:Object(k.jsxs)("div",{className:"uk-grid",children:[Object(k.jsx)("div",{className:"uk-padding uk-padding-remove-top uk-padding-remove-bottom uk-padding-remove-left uk-width-1-3",children:Object(k.jsx)("div",{ref:this.historyRef,className:"history",hidden:!0,children:Object(k.jsx)(m,{history:n,onClick:this.addHistory})})}),Object(k.jsx)("div",{className:"uk-padding-remove uk-width-1-3",children:Object(k.jsxs)("div",{className:"calculator uk-card uk-card-default uk-card-body uk-border-rounded uk-box-shadow-large",children:[Object(k.jsxs)("div",{className:"display uk-width-1-1 uk-margin-bottom",children:[Object(k.jsx)("div",{className:"uk-width-1-1",children:Object(k.jsxs)("div",{className:"recent uk-flex uk-flex-middle uk-width-1-1 uk-margin-remove",children:[Object(k.jsx)("span",{className:l,"uk-icon":"icon: history","uk-toggle":"target: .history; animation: uk-animation-slide-right"}),Object(k.jsx)("span",{className:"uk-width-1-1 uk-text-large uk-margin-remove uk-text-right preserve-characters",children:a})]})}),Object(k.jsx)("div",{className:"uk-width-1-1",children:Object(k.jsx)(x,{value:r,placeholder:i,onChange:function(t){e.handleInput(t.target.value)}})})]}),Object(k.jsxs)("div",{className:"numbers uk-width-1-1",children:[Object(k.jsxs)("div",{className:"uk-grid uk-grid-small uk-child-width-1-4",children:[Object(k.jsx)(O,{value:"AC",color:"danger",onClick:function(){e.clearAll(),!1===e.historyRef.current.hidden&&(e.historyRef.current.hidden=!0)}}),Object(k.jsx)(O,{value:"(",color:"secondary",onClick:function(){e.add("(")}}),Object(k.jsx)(O,{value:")",color:"secondary",onClick:function(){e.add(")")}}),Object(k.jsx)(O,{value:"%",color:"secondary",onClick:function(){0===r.length?e.add(i+"%"):e.add("%")}})]}),Object(k.jsxs)("div",{className:"uk-grid uk-grid-small uk-child-width-1-4",children:[Object(k.jsx)(O,{value:"7",color:"default",onClick:function(){e.add("7")}}),Object(k.jsx)(O,{value:"8",color:"default",onClick:function(){e.add("8")}}),Object(k.jsx)(O,{value:"9",color:"default",onClick:function(){e.add("9")}}),Object(k.jsx)(O,{value:"/",color:"secondary",onClick:function(){0===r.length?e.add(i+"/"):e.add("/")}})]}),Object(k.jsxs)("div",{className:"uk-grid uk-grid-small uk-child-width-1-4",children:[Object(k.jsx)(O,{value:"4",color:"default",onClick:function(){e.add("4")}}),Object(k.jsx)(O,{value:"5",color:"default",onClick:function(){e.add("5")}}),Object(k.jsx)(O,{value:"6",color:"default",onClick:function(){e.add("6")}}),Object(k.jsx)(O,{value:"x",color:"secondary",onClick:function(){0===r.length?e.add(i+"x"):e.add("x")}})]}),Object(k.jsxs)("div",{className:"uk-grid uk-grid-small uk-child-width-1-4",children:[Object(k.jsx)(O,{value:"1",color:"default",onClick:function(){e.add("1")}}),Object(k.jsx)(O,{value:"2",color:"default",onClick:function(){e.add("2")}}),Object(k.jsx)(O,{value:"3",color:"default",onClick:function(){e.add("3")}}),Object(k.jsx)(O,{value:"+",color:"secondary",onClick:function(){0===r.length?e.add(i+"+"):e.add("+")}})]}),Object(k.jsxs)("div",{className:"uk-grid uk-grid-small uk-child-width-1-4",children:[Object(k.jsx)(O,{value:"0",color:"default",onClick:function(){e.add("0")}}),Object(k.jsx)(O,{value:".",color:"default",onClick:function(){e.add(".")}}),Object(k.jsx)(O,{value:"=",color:"primary",onClick:function(){var t=e.props.inputHandler.generateArithmeticTree();if(null!==t){var i=e.calculate(t).toString(),a=n.concat({input:r,answer:i});e.setState({history:a,input:"",placeholder:i})}}}),Object(k.jsx)(O,{value:"-",color:"secondary",onClick:function(){e.add("-")}})]})]})]})}),Object(k.jsx)("div",{className:"uk-padding-remove uk-width-1-3",children:Object(k.jsx)("div",{className:"socials"})})]})})}}]),n}(o.a.Component);function m(e){var t=e.history,n=e.onClick,r=t.map((function(e,t,r){var i=r.length-1-t,a=r[i],s=a.input,c=a.answer,l=i,u=Object(k.jsx)(k.Fragment,{});return 0!==i&&(u=Object(k.jsx)("hr",{className:"uk-margin-remove"})),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("li",{className:"history-item uk-text-right uk-margin-remove uk-padding-small",children:[Object(k.jsx)("p",{className:"uk-link uk-text-large uk-margin-remove",onClick:function(){n(i,"input")},children:s}),Object(k.jsxs)("p",{className:"uk-text-small uk-margin-remove",children:["ANS=",Object(k.jsx)("span",{className:"uk-link",onClick:function(){n(i,"answer")},children:c})]})]},l),u]})}));return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("h5",{className:"uk-text-right uk-text-large uk-text-white",children:Object(k.jsx)("b",{children:"History"})}),Object(k.jsx)("div",{className:"uk-card uk-card-default uk-card-body uk-border-rounded uk-padding-remove",children:Object(k.jsx)("ul",{className:"uk-list uk-width-1-1 uk-margin-remove uk-height-medium uk-overflow-auto",children:r})})]})}function x(e){var t=e.value,n=e.placeholder,r=e.onChange,i=e.disabled;return Object(k.jsx)("div",{className:"uk-width-1-1",children:Object(k.jsx)("input",{className:"uk-width-1-1 uk-padding-remove uk-margin-remove uk-text-right uk-text-large",type:"text",value:t,placeholder:n,onChange:r,disabled:i})})}function O(e){var t=e.value,n=e.color,r=e.onClick,i="uk-button uk-text-center uk-text-large uk-padding-remove uk-width-1-1";return i=j(i,"uk-button-"+n),Object(k.jsx)("div",{children:Object(k.jsx)("input",{className:i,type:"button",value:t,onClick:r})})}d.a.render(Object(k.jsx)(g,{inputHandler:new p}),document.getElementById("root"))},15:function(e,t,n){}},[[10,1,2]]]);
//# sourceMappingURL=main.0a82edfd.chunk.js.map